const graphData =

{
    "data": [
        {
            "startNode": {
                "identity": {
                    "low": 1,
                    "high": 0
                },
                "labels": [
                    "User"
                ],
                "properties": {
                    "name": "Farzana",
                    "userid": {
                        "low": 2,
                        "high": 0
                    },
                    "email": "priyanka.prabhu@bridgelabz.com"
                },
                "elementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:1"
            },
            "relationship": {
                "identity": {
                    "low": 0,
                    "high": 0
                },
                "start": {
                    "low": 1,
                    "high": 0
                },
                "end": {
                    "low": 6,
                    "high": 0
                },
                "type": "ADDTO_CART",
                "properties": {},
                "elementId": "5:533be4fb-1718-4d02-82ad-bb1f9034bbcb:0",
                "startNodeElementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:1",
                "endNodeElementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:6"
            },
            "endNode": {
                "identity": {
                    "low": 6,
                    "high": 0
                },
                "labels": [
                    "Book"
                ],
                "properties": {
                    "quantity": {
                        "low": -5,
                        "high": -1
                    },
                    "price": {
                        "low": 350,
                        "high": 0
                    },
                    "book_name": "Feild Theory",
                    "bookid": {
                        "low": 6,
                        "high": 0
                    }
                },
                "elementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:6"
            }
        },
        {
            "startNode": {
                "identity": {
                    "low": 6,
                    "high": 0
                },
                "labels": [
                    "Book"
                ],
                "properties": {
                    "quantity": {
                        "low": -5,
                        "high": -1
                    },
                    "price": {
                        "low": 350,
                        "high": 0
                    },
                    "book_name": "Feild Theory",
                    "bookid": {
                        "low": 6,
                        "high": 0
                    }
                },
                "elementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:6"
            },
            "relationship": {
                "identity": {
                    "low": 0,
                    "high": 0
                },
                "start": {
                    "low": 1,
                    "high": 0
                },
                "end": {
                    "low": 6,
                    "high": 0
                },
                "type": "ADDTO_CART",
                "properties": {},
                "elementId": "5:533be4fb-1718-4d02-82ad-bb1f9034bbcb:0",
                "startNodeElementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:1",
                "endNodeElementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:6"
            },
            "endNode": {
                "identity": {
                    "low": 1,
                    "high": 0
                },
                "labels": [
                    "User"
                ],
                "properties": {
                    "name": "Farzana",
                    "userid": {
                        "low": 2,
                        "high": 0
                    },
                    "email": "priyanka.prabhu@bridgelabz.com"
                },
                "elementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:1"
            }
        },
        {
            "startNode": {
                "identity": {
                    "low": 1,
                    "high": 0
                },
                "labels": [
                    "User"
                ],
                "properties": {
                    "name": "Farzana",
                    "userid": {
                        "low": 2,
                        "high": 0
                    },
                    "email": "priyanka.prabhu@bridgelabz.com"
                },
                "elementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:1"
            },
            "relationship": {
                "identity": {
                    "low": 1,
                    "high": 0
                },
                "start": {
                    "low": 1,
                    "high": 0
                },
                "end": {
                    "low": 8,
                    "high": 0
                },
                "type": "ADDTO_CART",
                "properties": {},
                "elementId": "5:533be4fb-1718-4d02-82ad-bb1f9034bbcb:1",
                "startNodeElementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:1",
                "endNodeElementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:8"
            },
            "endNode": {
                "identity": {
                    "low": 8,
                    "high": 0
                },
                "labels": [
                    "Book"
                ],
                "properties": {
                    "quantity": {
                        "low": 1,
                        "high": 0
                    },
                    "price": {
                        "low": 400,
                        "high": 0
                    },
                    "book_name": "Anlog Communication",
                    "bookid": {
                        "low": 9,
                        "high": 0
                    }
                },
                "elementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:8"
            }
        },
        {
            "startNode": {
                "identity": {
                    "low": 8,
                    "high": 0
                },
                "labels": [
                    "Book"
                ],
                "properties": {
                    "quantity": {
                        "low": 1,
                        "high": 0
                    },
                    "price": {
                        "low": 400,
                        "high": 0
                    },
                    "book_name": "Anlog Communication",
                    "bookid": {
                        "low": 9,
                        "high": 0
                    }
                },
                "elementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:8"
            },
            "relationship": {
                "identity": {
                    "low": 1,
                    "high": 0
                },
                "start": {
                    "low": 1,
                    "high": 0
                },
                "end": {
                    "low": 8,
                    "high": 0
                },
                "type": "ADDTO_CART",
                "properties": {},
                "elementId": "5:533be4fb-1718-4d02-82ad-bb1f9034bbcb:1",
                "startNodeElementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:1",
                "endNodeElementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:8"
            },
            "endNode": {
                "identity": {
                    "low": 1,
                    "high": 0
                },
                "labels": [
                    "User"
                ],
                "properties": {
                    "name": "Farzana",
                    "userid": {
                        "low": 2,
                        "high": 0
                    },
                    "email": "priyanka.prabhu@bridgelabz.com"
                },
                "elementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:1"
            }
        },
        {
            "startNode": {
                "identity": {
                    "low": 1,
                    "high": 0
                },
                "labels": [
                    "User"
                ],
                "properties": {
                    "name": "Farzana",
                    "userid": {
                        "low": 2,
                        "high": 0
                    },
                    "email": "priyanka.prabhu@bridgelabz.com"
                },
                "elementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:1"
            },
            "relationship": {
                "identity": {
                    "low": 2,
                    "high": 0
                },
                "start": {
                    "low": 1,
                    "high": 0
                },
                "end": {
                    "low": 9,
                    "high": 0
                },
                "type": "ADDTO_CART",
                "properties": {},
                "elementId": "5:533be4fb-1718-4d02-82ad-bb1f9034bbcb:2",
                "startNodeElementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:1",
                "endNodeElementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:9"
            },
            "endNode": {
                "identity": {
                    "low": 9,
                    "high": 0
                },
                "labels": [
                    "Book"
                ],
                "properties": {
                    "quantity": {
                        "low": -3,
                        "high": -1
                    },
                    "price": {
                        "low": 340,
                        "high": 0
                    },
                    "book_name": "Digital Communication",
                    "bookid": {
                        "low": 10,
                        "high": 0
                    }
                },
                "elementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:9"
            }
        },
        {
            "startNode": {
                "identity": {
                    "low": 9,
                    "high": 0
                },
                "labels": [
                    "Book"
                ],
                "properties": {
                    "quantity": {
                        "low": -3,
                        "high": -1
                    },
                    "price": {
                        "low": 340,
                        "high": 0
                    },
                    "book_name": "Digital Communication",
                    "bookid": {
                        "low": 10,
                        "high": 0
                    }
                },
                "elementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:9"
            },
            "relationship": {
                "identity": {
                    "low": 2,
                    "high": 0
                },
                "start": {
                    "low": 1,
                    "high": 0
                },
                "end": {
                    "low": 9,
                    "high": 0
                },
                "type": "ADDTO_CART",
                "properties": {},
                "elementId": "5:533be4fb-1718-4d02-82ad-bb1f9034bbcb:2",
                "startNodeElementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:1",
                "endNodeElementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:9"
            },
            "endNode": {
                "identity": {
                    "low": 1,
                    "high": 0
                },
                "labels": [
                    "User"
                ],
                "properties": {
                    "name": "Farzana",
                    "userid": {
                        "low": 2,
                        "high": 0
                    },
                    "email": "priyanka.prabhu@bridgelabz.com"
                },
                "elementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:1"
            }
        },
        {
            "startNode": {
                "identity": {
                    "low": 3,
                    "high": 0
                },
                "labels": [
                    "User"
                ],
                "properties": {
                    "name": "Smita",
                    "userid": {
                        "low": 10,
                        "high": 0
                    },
                    "email": "priya@gmail.com"
                },
                "elementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:3"
            },
            "relationship": {
                "identity": {
                    "low": 3,
                    "high": 0
                },
                "start": {
                    "low": 3,
                    "high": 0
                },
                "end": {
                    "low": 10,
                    "high": 0
                },
                "type": "ADDTO_CART",
                "properties": {},
                "elementId": "5:533be4fb-1718-4d02-82ad-bb1f9034bbcb:3",
                "startNodeElementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:3",
                "endNodeElementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:10"
            },
            "endNode": {
                "identity": {
                    "low": 10,
                    "high": 0
                },
                "labels": [
                    "Book"
                ],
                "properties": {
                    "quantity": {
                        "low": 15,
                        "high": 0
                    },
                    "price": {
                        "low": 280,
                        "high": 0
                    },
                    "book_name": "Logic Design",
                    "bookid": {
                        "low": 11,
                        "high": 0
                    }
                },
                "elementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:10"
            }
        },
        {
            "startNode": {
                "identity": {
                    "low": 10,
                    "high": 0
                },
                "labels": [
                    "Book"
                ],
                "properties": {
                    "quantity": {
                        "low": 15,
                        "high": 0
                    },
                    "price": {
                        "low": 280,
                        "high": 0
                    },
                    "book_name": "Logic Design",
                    "bookid": {
                        "low": 11,
                        "high": 0
                    }
                },
                "elementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:10"
            },
            "relationship": {
                "identity": {
                    "low": 3,
                    "high": 0
                },
                "start": {
                    "low": 3,
                    "high": 0
                },
                "end": {
                    "low": 10,
                    "high": 0
                },
                "type": "ADDTO_CART",
                "properties": {},
                "elementId": "5:533be4fb-1718-4d02-82ad-bb1f9034bbcb:3",
                "startNodeElementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:3",
                "endNodeElementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:10"
            },
            "endNode": {
                "identity": {
                    "low": 3,
                    "high": 0
                },
                "labels": [
                    "User"
                ],
                "properties": {
                    "name": "Smita",
                    "userid": {
                        "low": 10,
                        "high": 0
                    },
                    "email": "priya@gmail.com"
                },
                "elementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:3"
            }
        },
        {
            "startNode": {
                "identity": {
                    "low": 3,
                    "high": 0
                },
                "labels": [
                    "User"
                ],
                "properties": {
                    "name": "Smita",
                    "userid": {
                        "low": 10,
                        "high": 0
                    },
                    "email": "priya@gmail.com"
                },
                "elementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:3"
            },
            "relationship": {
                "identity": {
                    "low": 4,
                    "high": 0
                },
                "start": {
                    "low": 3,
                    "high": 0
                },
                "end": {
                    "low": 6,
                    "high": 0
                },
                "type": "WISHLIST",
                "properties": {},
                "elementId": "5:533be4fb-1718-4d02-82ad-bb1f9034bbcb:4",
                "startNodeElementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:3",
                "endNodeElementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:6"
            },
            "endNode": {
                "identity": {
                    "low": 6,
                    "high": 0
                },
                "labels": [
                    "Book"
                ],
                "properties": {
                    "quantity": {
                        "low": -5,
                        "high": -1
                    },
                    "price": {
                        "low": 350,
                        "high": 0
                    },
                    "book_name": "Feild Theory",
                    "bookid": {
                        "low": 6,
                        "high": 0
                    }
                },
                "elementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:6"
            }
        },
        {
            "startNode": {
                "identity": {
                    "low": 6,
                    "high": 0
                },
                "labels": [
                    "Book"
                ],
                "properties": {
                    "quantity": {
                        "low": -5,
                        "high": -1
                    },
                    "price": {
                        "low": 350,
                        "high": 0
                    },
                    "book_name": "Feild Theory",
                    "bookid": {
                        "low": 6,
                        "high": 0
                    }
                },
                "elementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:6"
            },
            "relationship": {
                "identity": {
                    "low": 4,
                    "high": 0
                },
                "start": {
                    "low": 3,
                    "high": 0
                },
                "end": {
                    "low": 6,
                    "high": 0
                },
                "type": "WISHLIST",
                "properties": {},
                "elementId": "5:533be4fb-1718-4d02-82ad-bb1f9034bbcb:4",
                "startNodeElementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:3",
                "endNodeElementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:6"
            },
            "endNode": {
                "identity": {
                    "low": 3,
                    "high": 0
                },
                "labels": [
                    "User"
                ],
                "properties": {
                    "name": "Smita",
                    "userid": {
                        "low": 10,
                        "high": 0
                    },
                    "email": "priya@gmail.com"
                },
                "elementId": "4:533be4fb-1718-4d02-82ad-bb1f9034bbcb:3"
            }
        }
    ],
}


// Initialize arrays to store nodes and links
const nodes = [];
const links = [];

// Iterate through the data
graphData.data.forEach(entry => {
    const startNode = entry.startNode;
    const endNode = entry.endNode;
    const relationship = entry.relationship;

    // Extract node information
    nodes.push(startNode);
    nodes.push(endNode);

    // Extract link information
    links.push({
        source: startNode.identity.low,
        target: endNode.identity.low,
        type: relationship.type
    });
});

// Optionally, remove duplicate nodes
const uniqueNodes = Array.from(new Set(nodes.map(node => node.identity.low)))
    .map(identity => nodes.find(node => node.identity.low === identity));

// Now, you have the unique nodes in the `uniqueNodes` array
console.log("Unique Nodes:", uniqueNodes);

// And the links in the `links` array
console.log("Links:", links);
